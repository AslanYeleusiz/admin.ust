import{_ as q,A as B}from"./AdminLayout.5fa73673.js";import{L as x,H as k,r as h,o as m,b as r,e as s,w as _,F as u,d as e,k as g,i as n,v as c,j as w,f as V,g as p,m as b,t as L,a as v}from"./app.013e25ce.js";import{P as U}from"./Pagination.0b1e04ca.js";import{V as F}from"./ValidationError.73bec915.js";const M={components:{AdminLayout:B,Link:x,Pagination:U,ValidationError:F,Head:k},props:["subjects","qmgBolim"],data(){return{image:{file:"",preview:""},file:{file:""},qmgForm:null}},methods:{submit(){this.qmgForm=this.$inertia.form({_method:"put",title:this.qmgBolim.title,date:this.qmgBolim.date,synyp_text:this.qmgBolim.synyp_text,sub_id:this.qmgBolim.sub_id,skidka:this.qmgBolim.skidka,path:this.qmgBolim.path,video:this.qmgBolim.video,doc:this.qmgBolim.doc,newPath:this.image.file,newDoc:this.file.file}),this.$inertia.post(route("admin.qmgBolim.update",this.qmgBolim.id),this.qmgForm,{onError:()=>console.log("An error has occurred"),onSuccess:()=>console.log("The new contact has been saved")})},handleImageUpload(){if(this.image.file=this.$refs.image.files[0],this.image.file){const l=new FileReader;l.onloadend=i=>{this.image.preview=l.result},l.readAsDataURL(this.image.file),this.$refs.image.value=""}else this.qmgBolim.path="",this.image.file="",this.image.preview=""},handleFileUpload(){this.file.file=this.$refs.file.files[0],console.log("file.file0",this.file.file),this.file.file?this.$refs.file.value="":(this.material.file_name="",this.file.file="")}}},T=e("head",null,[e("title",null,"\u0410\u0434\u043C\u0438\u043D \u043F\u0430\u043D\u0435\u043B\u044C | \u049A\u041C\u0416 \u0431\u04E9\u043B\u0456\u043C\u0434\u0435\u0440 \u049B\u043E\u0441\u0443")],-1),A={class:"row mb-2"},C=e("div",{class:"col-sm-6"},[e("h1",{class:"m-0"},"\u0411\u04E9\u043B\u0456\u043C \u049B\u043E\u0441\u0443")],-1),H={class:"col-sm-6"},S={class:"breadcrumb float-sm-right"},D={class:"breadcrumb-item"},E=["href"],N=e("i",{class:"fas fa-dashboard"},null,-1),j=v(" \u0411\u0430\u0441\u0442\u044B \u0431\u0435\u0442 "),P=[N,j],I={class:"breadcrumb-item"},R=["href"],Q=e("i",{class:"fas fa-dashboard"},null,-1),X=v(" \u049A\u041C\u0416 \u0431\u04E9\u043B\u0456\u043C\u0434\u0435\u0440 \u0442\u0456\u0437\u0456\u043C\u0456 "),z=[Q,X],G=e("li",{class:"breadcrumb-item active"}," \u0411\u04E9\u043B\u0456\u043C \u049B\u043E\u0441\u0443 ",-1),J={class:"container-fluid"},K={class:"card card-primary"},O={class:"card-body"},W={class:"form-group"},Y=e("label",{for:""},"\u0422\u043E\u043B\u044B\u049B \u0430\u0442\u0430\u0443\u044B",-1),Z={class:"form-group"},$=e("label",{for:""},"\u041C\u0435\u0440\u0437\u0456\u043C\u0456",-1),ee={class:"form-group"},ie=e("label",{for:""},"\u0421\u044B\u043D\u044B\u043F",-1),te={class:"form-group"},oe=e("label",{for:""},"\u041F\u04D9\u043D\u0456",-1),se=e("option",{value:null,disabled:"",hidden:""}," \u041F\u04D9\u043D \u0442\u0430\u04A3\u0434\u0430\u04A3\u044B\u0437 ",-1),le=["value"],ae={class:"form-group"},ne=e("label",{for:""},"\u0421\u043A\u0438\u0434\u043A\u0430 (%)",-1),de={class:"form-group file-upload"},me=e("label",{for:""},"\u0421\u0443\u0440\u0435\u0442",-1),re={class:"ml-2"},ce=["src"],fe=["src"],he={class:"file-input",style:{"margin-right":"10px"}},_e=e("label",{for:"image"}," \u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C ",-1),ue={class:"form-group"},ge=e("label",{for:""},"\u0412\u0438\u0434\u0435\u043E \u0441\u0456\u043B\u0442\u0435\u043C\u0435",-1),pe={class:"form-group file-upload"},be=e("label",{for:""},"\u0424\u0430\u0439\u043B",-1),ve={class:"ml-2"},ye=["innerHTML"],qe=["innerHTML"],Be={class:"file-input",style:{"margin-right":"10px"}},xe=e("label",{for:"doc"}," \u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C ",-1),ke={class:"card-footer"},we=e("button",{type:"submit",class:"btn btn-primary mr-1"}," \u0421\u0430\u049B\u0442\u0430\u0443 ",-1);function Ve(l,i,o,Le,d,f){const a=h("validation-error"),y=h("AdminLayout");return m(),r(u,null,[T,s(y,null,{breadcrumbs:_(()=>[e("div",A,[C,e("div",H,[e("ol",S,[e("li",D,[e("a",{href:l.route("admin.index")},P,8,E)]),e("li",I,[e("a",{href:l.route("admin.qmgBolim.index")},z,8,R)]),G])])])]),default:_(()=>[e("div",J,[e("div",K,[e("form",{method:"post",onSubmit:i[9]||(i[9]=g((...t)=>f.submit&&f.submit(...t),["prevent"]))},[e("div",O,[e("div",W,[Y,n(e("input",{type:"text",class:"form-control","onUpdate:modelValue":i[0]||(i[0]=t=>o.qmgBolim.title=t),name:"title",placeholder:"\u0425\u0438\u043C\u0438\u044F \u043F\u04D9\u043D\u0456\u043D\u0435\u043D 7-11 \u0441\u044B\u043D\u044B\u043F\u0442\u0430\u0440\u0493\u0430 \u0430\u0440\u043D\u0430\u043B\u0493\u0430\u043D \u049A\u044B\u0441\u049B\u0430 \u043C\u0435\u0440\u0437\u0456\u043C\u0434\u0456 \u0441\u0430\u0431\u0430\u049B \u0436\u043E\u0441\u043F\u0430\u0440\u043B\u0430\u0440\u044B"},null,512),[[c,o.qmgBolim.title]]),s(a,{field:"title"})]),e("div",Z,[$,n(e("input",{type:"text",class:"form-control","onUpdate:modelValue":i[1]||(i[1]=t=>o.qmgBolim.date=t),name:"date",placeholder:"2022-2023 \u043E\u049B\u0443 \u0436\u044B\u043B\u044B\u043D\u0430"},null,512),[[c,o.qmgBolim.date]]),s(a,{field:"date"})]),e("div",ee,[ie,n(e("input",{type:"text",class:"form-control","onUpdate:modelValue":i[2]||(i[2]=t=>o.qmgBolim.synyp_text=t),name:"synyp_text",placeholder:"7-11 \u0441\u044B\u043D\u044B\u043F\u0442\u0430\u0440\u0493\u0430"},null,512),[[c,o.qmgBolim.synyp_text]]),s(a,{field:"synyp_text"})]),e("div",te,[oe,n(e("select",{"onUpdate:modelValue":i[3]||(i[3]=t=>o.qmgBolim.sub_id=t),class:"form-control",placeholder:"\u041F\u04D9\u043D\u0456"},[se,(m(!0),r(u,null,V(o.subjects,t=>(m(),r("option",{value:t.id,key:"subject"+t.name},L(t.name),9,le))),128))],512),[[w,o.qmgBolim.sub_id]]),s(a,{field:"sub_id"})]),e("div",ae,[ne,n(e("input",{type:"text",class:"form-control","onUpdate:modelValue":i[4]||(i[4]=t=>o.qmgBolim.skidka=t),name:"skidka",placeholder:"\u041C\u044B\u0441\u0430\u043B\u044B: 20"},null,512),[[c,o.qmgBolim.skidka]]),s(a,{field:"skidka"})]),e("div",de,[me,e("div",re,[o.qmgBolim.path&&!d.image.file?(m(),r("img",{key:0,src:l.route("admin.index")+"/storage/files/"+o.qmgBolim.path,height:"300",alt:"image",style:{"padding-bottom":"10px"}},null,8,ce)):p("",!0),n(e("img",{src:d.image.preview,height:"300",style:{"padding-bottom":"10px"}},null,8,fe),[[b,d.image.preview]]),e("div",he,[e("input",{type:"file",hidden:"",name:"image",onChange:i[5]||(i[5]=t=>f.handleImageUpload()),ref:"image",accept:"image/jpeg,image/png",class:"file",id:"image"},null,544),_e])]),s(a,{field:"image"})]),e("div",ue,[ge,n(e("input",{type:"text",class:"form-control","onUpdate:modelValue":i[6]||(i[6]=t=>o.qmgBolim.video=t),name:"video",placeholder:"https://youtu.be/9Q888_iXcqg"},null,512),[[c,o.qmgBolim.video]]),s(a,{field:"video"})]),e("div",pe,[be,e("div",ve,[o.qmgBolim.doc&&!d.file.file?(m(),r("p",{key:0,innerHTML:o.qmgBolim.doc,style:{"padding-bottom":"10px"}},null,8,ye)):p("",!0),n(e("p",{innerHTML:d.file.file.name,style:{"padding-bottom":"10px"}},null,8,qe),[[b,d.file.file]]),e("div",Be,[e("input",{type:"file",hidden:"",name:"doc",onChange:i[7]||(i[7]=t=>f.handleFileUpload()),ref:"file",class:"file",id:"doc"},null,544),xe])]),s(a,{field:"doc"})])]),e("div",ke,[we,e("button",{type:"button",class:"btn btn-danger",onClick:i[8]||(i[8]=g(t=>l.back(),["prevent"]))}," \u0410\u0440\u0442\u049B\u0430 ")])],32)])])]),_:1})],64)}const Ae=q(M,[["render",Ve]]);export{Ae as default};
