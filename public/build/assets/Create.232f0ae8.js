import{_ as B,A as q}from"./AdminLayout.aacb236b.js";import{L as x,H as k,r as f,o as a,b as r,e as t,w as _,F as h,d as e,k as u,i as d,v as m,j as w,f as V,g as p,m as g,t as L,a as b}from"./app.5a1bde93.js";import{P as U}from"./Pagination.8139c795.js";import{V as C}from"./ValidationError.f1f9254d.js";const M={components:{AdminLayout:q,Link:x,Pagination:U,ValidationError:C,Head:k},props:["subjects"],data(){return{qmgBolim:{title:null,date:null,synyp_text:null,sub_id:null,path:null,newPath:null,doc:null,newDoc:null},image:{file:"",preview:""},file:{file:""}}},methods:{submit(){this.image.file&&(this.qmgBolim.newPath=this.image.file,this.qmgBolim.path=this.image.file),this.file.file&&(this.qmgBolim.newDoc=this.file.file,this.qmgBolim.doc=this.file.file),this.$inertia.post(route("admin.qmgBolim.store"),this.qmgBolim,{onError:()=>console.log("An error has occurred"),onSuccess:()=>console.log("The new contact has been saved")})},handleImageUpload(){if(this.image.file=this.$refs.image.files[0],this.image.file){const l=new FileReader;l.onloadend=o=>{this.image.preview=l.result},l.readAsDataURL(this.image.file),this.$refs.image.value=""}else this.qmgBolim.path="",this.image.file="",this.image.preview=""},handleFileUpload(){this.file.file=this.$refs.file.files[0],console.log("file.file0",this.file.file),this.file.file?this.$refs.file.value="":(this.material.file_name="",this.file.file="")}}},T=e("head",null,[e("title",null,"\u0410\u0434\u043C\u0438\u043D \u043F\u0430\u043D\u0435\u043B\u044C | \u049A\u041C\u0416 \u0431\u04E9\u043B\u0456\u043C\u0434\u0435\u0440 \u049B\u043E\u0441\u0443")],-1),A={class:"row mb-2"},H=e("div",{class:"col-sm-6"},[e("h1",{class:"m-0"},"\u0411\u04E9\u043B\u0456\u043C \u049B\u043E\u0441\u0443")],-1),D={class:"col-sm-6"},F={class:"breadcrumb float-sm-right"},S={class:"breadcrumb-item"},N=["href"],P=e("i",{class:"fas fa-dashboard"},null,-1),j=b(" \u0411\u0430\u0441\u0442\u044B \u0431\u0435\u0442 "),E=[P,j],I={class:"breadcrumb-item"},R=["href"],Q=e("i",{class:"fas fa-dashboard"},null,-1),X=b(" \u049A\u041C\u0416 \u0431\u04E9\u043B\u0456\u043C\u0434\u0435\u0440 \u0442\u0456\u0437\u0456\u043C\u0456 "),z=[Q,X],G=e("li",{class:"breadcrumb-item active"}," \u0411\u04E9\u043B\u0456\u043C \u049B\u043E\u0441\u0443 ",-1),J={class:"container-fluid"},K={class:"card card-primary"},O={class:"card-body"},W={class:"form-group"},Y=e("label",{for:""},"\u0422\u043E\u043B\u044B\u049B \u0430\u0442\u0430\u0443\u044B",-1),Z={class:"form-group"},$=e("label",{for:""},"\u041C\u0435\u0440\u0437\u0456\u043C\u0456",-1),ee={class:"form-group"},ie=e("label",{for:""},"\u0421\u044B\u043D\u044B\u043F",-1),oe={class:"form-group"},se=e("label",{for:""},"\u041F\u04D9\u043D\u0456",-1),te=e("option",{value:null,disabled:"",hidden:""}," \u041F\u04D9\u043D \u0442\u0430\u04A3\u0434\u0430\u04A3\u044B\u0437 ",-1),le=["value"],ne={class:"form-group"},de=e("label",{for:""},"\u0421\u043A\u0438\u0434\u043A\u0430 (%)",-1),ae={class:"form-group file-upload"},re=e("label",{for:""},"\u0421\u0443\u0440\u0435\u0442",-1),me={class:"ml-2"},ce=["src"],fe=["src"],_e={class:"file-input",style:{"margin-right":"10px"}},he=e("label",{for:"image"}," \u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C ",-1),ue={class:"form-group"},pe=e("label",{for:""},"\u0412\u0438\u0434\u0435\u043E \u0441\u0456\u043B\u0442\u0435\u043C\u0435",-1),ge={class:"form-group file-upload"},be=e("label",{for:""},"\u0424\u0430\u0439\u043B",-1),ve={class:"ml-2"},ye=["innerHTML"],Be=["innerHTML"],qe={class:"file-input",style:{"margin-right":"10px"}},xe=e("label",{for:"doc"}," \u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C ",-1),ke={class:"card-footer"},we=e("button",{type:"submit",class:"btn btn-primary mr-1"}," \u0421\u0430\u049B\u0442\u0430\u0443 ",-1);function Ve(l,o,v,Le,i,c){const n=f("validation-error"),y=f("AdminLayout");return a(),r(h,null,[T,t(y,null,{breadcrumbs:_(()=>[e("div",A,[H,e("div",D,[e("ol",F,[e("li",S,[e("a",{href:l.route("admin.index")},E,8,N)]),e("li",I,[e("a",{href:l.route("admin.qmgBolim.index")},z,8,R)]),G])])])]),default:_(()=>[e("div",J,[e("div",K,[e("form",{method:"post",onSubmit:o[9]||(o[9]=u((...s)=>c.submit&&c.submit(...s),["prevent"]))},[e("div",O,[e("div",W,[Y,d(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[0]||(o[0]=s=>i.qmgBolim.title=s),name:"title",placeholder:"\u0425\u0438\u043C\u0438\u044F \u043F\u04D9\u043D\u0456\u043D\u0435\u043D 7-11 \u0441\u044B\u043D\u044B\u043F\u0442\u0430\u0440\u0493\u0430 \u0430\u0440\u043D\u0430\u043B\u0493\u0430\u043D \u049A\u044B\u0441\u049B\u0430 \u043C\u0435\u0440\u0437\u0456\u043C\u0434\u0456 \u0441\u0430\u0431\u0430\u049B \u0436\u043E\u0441\u043F\u0430\u0440\u043B\u0430\u0440\u044B"},null,512),[[m,i.qmgBolim.title]]),t(n,{field:"title"})]),e("div",Z,[$,d(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[1]||(o[1]=s=>i.qmgBolim.date=s),name:"date",placeholder:"2022-2023 \u043E\u049B\u0443 \u0436\u044B\u043B\u044B\u043D\u0430"},null,512),[[m,i.qmgBolim.date]]),t(n,{field:"date"})]),e("div",ee,[ie,d(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[2]||(o[2]=s=>i.qmgBolim.synyp_text=s),name:"synyp_text",placeholder:"7-11 \u0441\u044B\u043D\u044B\u043F\u0442\u0430\u0440\u0493\u0430"},null,512),[[m,i.qmgBolim.synyp_text]]),t(n,{field:"synyp_text"})]),e("div",oe,[se,d(e("select",{"onUpdate:modelValue":o[3]||(o[3]=s=>i.qmgBolim.sub_id=s),class:"form-control",placeholder:"\u041F\u04D9\u043D\u0456"},[te,(a(!0),r(h,null,V(v.subjects,s=>(a(),r("option",{value:s.id,key:"subject"+s.name},L(s.name),9,le))),128))],512),[[w,i.qmgBolim.sub_id]]),t(n,{field:"sub_id"})]),e("div",ne,[de,d(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[4]||(o[4]=s=>i.qmgBolim.skidka=s),name:"skidka",placeholder:"\u041C\u044B\u0441\u0430\u043B\u044B: 20"},null,512),[[m,i.qmgBolim.skidka]]),t(n,{field:"skidka"})]),e("div",ae,[re,e("div",me,[i.qmgBolim.path&&!i.image.file?(a(),r("img",{key:0,src:l.route("index")+"/storage/images/"+i.qmgBolim.path,height:"300",alt:"image",style:{"padding-bottom":"10px"}},null,8,ce)):p("",!0),d(e("img",{src:i.image.preview,height:"300",style:{"padding-bottom":"10px"}},null,8,fe),[[g,i.image.preview]]),e("div",_e,[e("input",{type:"file",hidden:"",name:"image",onChange:o[5]||(o[5]=s=>c.handleImageUpload()),ref:"image",accept:"image/jpeg,image/png",class:"file",id:"image"},null,544),he])]),t(n,{field:"image"})]),e("div",ue,[pe,d(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[6]||(o[6]=s=>i.qmgBolim.video=s),name:"video",placeholder:"https://youtu.be/9Q888_iXcqg"},null,512),[[m,i.qmgBolim.video]]),t(n,{field:"video"})]),e("div",ge,[be,e("div",ve,[i.qmgBolim.doc&&!i.file.file?(a(),r("p",{key:0,innerHTML:i.qmgBolim.doc,style:{"padding-bottom":"10px"}},null,8,ye)):p("",!0),d(e("p",{innerHTML:i.file.file.name,style:{"padding-bottom":"10px"}},null,8,Be),[[g,i.file.file]]),e("div",qe,[e("input",{type:"file",hidden:"",name:"doc",onChange:o[7]||(o[7]=s=>c.handleFileUpload()),ref:"file",class:"file",id:"doc"},null,544),xe])]),t(n,{field:"doc"})])]),e("div",ke,[we,e("button",{type:"button",class:"btn btn-danger",onClick:o[8]||(o[8]=u(s=>l.back(),["prevent"]))}," \u0410\u0440\u0442\u049B\u0430 ")])],32)])])]),_:1})],64)}const Ae=B(M,[["render",Ve]]);export{Ae as default};
