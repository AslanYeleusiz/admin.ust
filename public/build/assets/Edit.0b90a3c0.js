import{_ as V,A as z}from"./AdminLayout.aacb236b.js";import{L as U,H as L,r as h,o as d,b as r,e as i,w as v,F as u,d as e,t as m,k as y,i as a,v as n,j as b,f as w,g,m as S,p as C,a as k}from"./app.5a1bde93.js";import{P as M}from"./Pagination.8139c795.js";import{V as D}from"./ValidationError.f1f9254d.js";const T={components:{AdminLayout:z,Link:U,Pagination:M,ValidationError:D,Head:L},props:["material","materialClasses","materialSubjects","materialDirections"],data(){return{file:{file:""}}},methods:{submit(){this.file.file&&(this.material.filename=this.file.file),this.material._method="put",this.$inertia.post(route("admin.materials.update",this.material.id),this.material,{forceFormData:!0,onError:()=>console.log("An error has occurred"),onSuccess:c=>{this.file={file:""},console.log("res",c),console.log("The new contact has been saved")}})},handleImageUpload(){this.file.file=this.$refs.file.files[0],console.log("file.file0",this.file.file),this.file.file?this.$refs.file.value="":(this.material.file_name="",this.file.file="")},handleDownload(){window.location.href="https://ust.kz/frontend/web/"+this.material.file_doc}},mounted(){}},H=e("head",null,[e("title",null,"\u0410\u0434\u043C\u0438\u043D \u043F\u0430\u043D\u0435\u043B\u044C | \u041C\u0430\u0442\u0435\u0440\u0438\u0430\u043B\u0434\u044B \u04E9\u0437\u0433\u0435\u0440\u0442\u0443")],-1),A={class:"row mb-2"},E={class:"col-sm-6"},j={class:"m-0"},N={class:"col-sm-6"},B={class:"breadcrumb float-sm-right"},F={class:"breadcrumb-item"},P=["href"],q=e("i",{class:"fas fa-dashboard"},null,-1),G=k(" \u0411\u0430\u0441\u0442\u044B \u0431\u0435\u0442 "),I=[q,G],J={class:"breadcrumb-item"},K=["href"],O=e("i",{class:"fas fa-dashboard"},null,-1),Q=k(" \u041C\u0430\u0442\u0435\u0440\u0438\u0430\u043B\u0434\u0430\u0440 \u0442\u0456\u0437\u0456\u043C\u0456 "),R=[O,Q],W={class:"breadcrumb-item active"},X={class:"container-fluid"},Y={class:"card card-primary"},Z={class:"card-body"},$={class:"row"},ee={class:"col-md-6"},te={class:"form-group"},le={for:""},oe=k("\u0410\u0432\u0442\u043E\u0440 "),ie=e("i",{class:"fas fa-link"},null,-1),ae={class:"form-group"},se=e("label",{for:""},"\u0422\u0430\u049B\u044B\u0440\u044B\u0431\u044B",-1),ne={class:"form-group"},de=e("label",{for:""},"\u0422\u04AF\u0441\u0456\u043D\u0456\u043A\u0442\u0435\u043C\u0435",-1),re={class:"form-group"},me=e("label",{for:""},"\u041F\u04D9\u043D\u0456",-1),ce=["value"],ue=["value"],fe={class:"form-group"},_e=e("label",{for:""},"\u0411\u0430\u0493\u044B\u0442\u044B",-1),he=["value"],ve=["value"],be={class:"form-group"},we=e("label",{for:""},"\u0421\u044B\u043D\u044B\u0431\u044B",-1),ge=["value"],ke=["value"],ye={class:"form-group"},pe=e("label",{for:""},"\u0416\u04AF\u043A\u0442\u0435\u043B\u0433\u0435\u043D \u0443\u0430\u049B\u044B\u0442\u044B",-1),xe={class:"form-group"},Ve=e("label",{for:""},"\u049A\u0430\u0440\u0430\u043B\u044B\u043C \u0441\u0430\u043D\u044B",-1),ze={class:"form-group"},Ue=e("label",{for:""},"\u0416\u04AF\u043A\u0442\u0435\u0443\u043B\u0435\u0440 \u0441\u0430\u043D\u044B",-1),Le={class:"col-md-6"},Se=["src"],Ce=["src"],Me={class:"form-group file-upload"},De=e("label",{for:""},"\u0424\u0430\u0439\u043B",-1),Te={class:"ml-2"},He=["innerHTML"],Ae=["innerHTML"],Ee={class:"row"},je={class:"file-input",style:{"margin-right":"10px"}},Ne=e("label",{for:"download"}," \u0416\u04AF\u043A\u0442\u0435\u0443 ",-1),Be={class:"form-group"},Fe=e("label",{for:""},"\u0410\u0432\u0442\u043E\u0440",-1),Pe={class:"form-group"},qe=e("label",{for:""},"\u0416\u04B1\u043C\u044B\u0441 \u043E\u0440\u043D\u044B",-1),Ge={class:"form-group"},Ie=e("label",{for:""},"\u0411\u0430\u0493\u0430\u0441\u044B",-1),Je={class:"form-group"},Ke=e("label",{for:""},"\u041B\u0430\u0439\u043A",-1),Oe={class:"form-group"},Qe=e("label",{for:""},"\u0414\u0438\u0437\u043B\u0430\u0439\u043A",-1),Re={class:"form-group"},We={class:"custom-control custom-switch"},Xe=e("label",{class:"custom-control-label",for:"customSwitch1"},"\u0416\u0438\u043D\u0430\u049B",-1),Ye={class:"card-footer"},Ze=e("button",{type:"submit",class:"btn btn-primary mr-1"}," \u0421\u0430\u049B\u0442\u0430\u0443 ",-1);function $e(c,o,t,et,f,_){const p=h("Link"),s=h("validation-error"),x=h("AdminLayout");return d(),r(u,null,[H,i(x,null,{breadcrumbs:v(()=>[e("div",A,[e("div",E,[e("h1",j,"\u041C\u0430\u0442\u0435\u0440\u0438\u0430\u043B \u2116 "+m(t.material.id),1)]),e("div",N,[e("ol",B,[e("li",F,[e("a",{href:c.route("admin.index")},I,8,P)]),e("li",J,[e("a",{href:c.route("admin.materials.index")},R,8,K)]),e("li",W," \u041C\u0430\u0442\u0435\u0440\u0438\u0430\u043B \u2116 "+m(t.material.id),1)])])])]),default:v(()=>[e("div",X,[e("div",Y,[e("form",{method:"post",onSubmit:o[17]||(o[17]=y((...l)=>_.submit&&_.submit(...l),["prevent"]))},[e("div",Z,[e("div",$,[e("div",ee,[e("div",te,[e("label",le,[oe,i(p,{class:"ml-2",href:c.route("admin.users.edit",t.material.user.id)},{default:v(()=>[ie]),_:1},8,["href"])]),a(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[0]||(o[0]=l=>t.material.user.username=l),name:"user_id",placeholder:"\u0410\u0432\u0442\u043E\u0440",disabled:""},null,512),[[n,t.material.user.username]])]),e("div",ae,[se,a(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[1]||(o[1]=l=>t.material.title=l),name:"title",placeholder:"\u0422\u0430\u049B\u044B\u0440\u044B\u0431\u044B"},null,512),[[n,t.material.title]]),i(s,{field:"title"})]),e("div",ne,[de,a(e("textarea",{class:"form-control","onUpdate:modelValue":o[2]||(o[2]=l=>t.material.description=l),placeholder:"\u0422\u04AF\u0441\u0456\u043D\u0456\u043A\u0442\u0435\u043C\u0435",name:"description",cols:"30",rows:"5"},`\r
                                    `,512),[[n,t.material.description]]),i(s,{field:"description"})]),e("div",re,[me,a(e("select",{class:"form-control","onUpdate:modelValue":o[3]||(o[3]=l=>t.material.zhanr=l),name:"subject_id"},[e("option",{value:t.material.zhanr,selected:""},m(t.material.zhanr),9,ce),(d(!0),r(u,null,w(t.materialSubjects,l=>(d(),r("option",{value:l.name,key:"subject"+l.name},m(l.name),9,ue))),128))],512),[[b,t.material.zhanr]]),i(s,{field:"subject_id"})]),e("div",fe,[_e,a(e("select",{class:"form-control","onUpdate:modelValue":o[4]||(o[4]=l=>t.material.zhanr2=l),name:"direction_id"},[e("option",{value:t.material.zhanr2,selected:""},m(t.material.zhanr2),9,he),(d(!0),r(u,null,w(t.materialDirections,l=>(d(),r("option",{value:l.name,key:"direction"+l.name},m(l.name),9,ve))),128))],512),[[b,t.material.zhanr2]]),i(s,{field:"direction_id"})]),e("div",be,[we,a(e("select",{class:"form-control","onUpdate:modelValue":o[5]||(o[5]=l=>t.material.zhanr3=l),name:"class_id"},[e("option",{value:t.material.zhanr3,selected:""},m(t.material.zhanr3),9,ge),(d(!0),r(u,null,w(t.materialClasses,l=>(d(),r("option",{value:l.name,key:"classItem"+l.name},m(l.name),9,ke))),128))],512),[[b,t.material.zhanr3]]),i(s,{field:"class_id"})]),e("div",ye,[pe,a(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[6]||(o[6]=l=>t.material.date=l),name:"date",placeholder:"\u0416\u04AF\u043A\u0442\u0435\u043B\u0433\u0435\u043D \u0443\u0430\u049B\u044B\u0442\u044B"},null,512),[[n,t.material.date]]),i(s,{field:"date"})]),e("div",xe,[Ve,a(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[7]||(o[7]=l=>t.material.view=l),name:"title",placeholder:"\u049A\u0430\u0440\u0430\u043B\u044B\u043C \u0441\u0430\u043D\u044B"},null,512),[[n,t.material.view]]),i(s,{field:"view"})]),e("div",ze,[Ue,a(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[8]||(o[8]=l=>t.material.download=l),name:"title",placeholder:"\u0416\u04AF\u043A\u0442\u0435\u0443\u043B\u0435\u0440 \u0441\u0430\u043D\u044B"},null,512),[[n,t.material.download]]),i(s,{field:"download"})])]),e("div",Le,[t.material.raw=="docx"||t.material.raw=="doc"||t.material.raw=="pptx"?(d(),r("iframe",{key:0,src:"https://view.officeapps.live.com/op/embed.aspx?src=ust.kz/frontend/web/"+t.material.file_doc,width:"100%",height:"720px",frameborder:"0"},null,8,Se)):g("",!0),t.material.raw=="pdf"?(d(),r("iframe",{key:1,id:"iframepdf",width:"100%",height:"720px",src:"https://ust.kz/frontend/web/"+t.material.file_doc,frameborder:"0"},null,8,Ce)):g("",!0),e("div",Me,[De,e("div",Te,[t.material.filename&&!f.file.file?(d(),r("p",{key:0,innerHTML:t.material.filename,style:{"padding-bottom":"10px"}},null,8,He)):g("",!0),a(e("p",{innerHTML:f.file.file.name,style:{"padding-bottom":"10px"}},null,8,Ae),[[S,f.file.file]]),e("div",Ee,[e("div",je,[e("button",{hidden:"",name:"filename",onClick:o[9]||(o[9]=l=>_.handleDownload()),class:"file",id:"download"}),Ne])])]),i(s,{field:"filename"})])])]),e("div",Be,[Fe,a(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[10]||(o[10]=l=>t.material.author=l),placeholder:"\u0410\u0432\u0442\u043E\u0440"},null,512),[[n,t.material.author]]),i(s,{field:"author"})]),e("div",Pe,[qe,a(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[11]||(o[11]=l=>t.material.work=l),placeholder:"\u0416\u04B1\u043C\u044B\u0441 \u043E\u0440\u043D\u044B"},null,512),[[n,t.material.work]]),i(s,{field:"work"})]),e("div",Ge,[Ie,a(e("input",{type:"number",class:"form-control","onUpdate:modelValue":o[12]||(o[12]=l=>t.material.sell=l),placeholder:"\u0411\u0430\u0493\u0430\u0441\u044B"},null,512),[[n,t.material.sell]]),i(s,{field:"sell"})]),e("div",Je,[Ke,a(e("input",{type:"number",class:"form-control","onUpdate:modelValue":o[13]||(o[13]=l=>t.material.likes=l),placeholder:"\u041B\u0430\u0439\u043A \u0441\u0430\u043D\u044B"},null,512),[[n,t.material.likes]]),i(s,{field:"likes"})]),e("div",Oe,[Qe,a(e("input",{type:"number",class:"form-control","onUpdate:modelValue":o[14]||(o[14]=l=>t.material.dislikes=l),placeholder:"\u0414\u0438\u0437\u043B\u0430\u0439\u043A \u0441\u0430\u043D\u044B"},null,512),[[n,t.material.dislikes]]),i(s,{field:"dislikes"})]),e("div",Re,[e("div",We,[a(e("input",{type:"checkbox","onUpdate:modelValue":o[15]||(o[15]=l=>t.material.zhinak=l),class:"custom-control-input",id:"customSwitch1","true-value":1,"false-value":0},null,512),[[C,t.material.zhinak]]),Xe]),i(s,{field:"zhinak"})])]),e("div",Ye,[Ze,e("button",{type:"button",class:"btn btn-danger",onClick:o[16]||(o[16]=y(l=>c.back(),["prevent"]))}," \u0410\u0440\u0442\u049B\u0430 ")])],32)])])]),_:1})],64)}const at=V(T,[["render",$e]]);export{at as default};
